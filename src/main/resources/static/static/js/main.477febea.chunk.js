(this["webpackJsonpmedical-center-frontend"]=this["webpackJsonpmedical-center-frontend"]||[]).push([[0],{380:function(e,t,n){},382:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(27),s=n.n(r),i=n(9),o=n.p+"static/media/logo.cdf2223c.png",l=n(440),d=n(432),j=n(442),u=n(439),b=n(76),p=n(143),h=n(29),O=n(2);var m=function(e){var t=e.changeLanguage,n=e.t,a=Object(O.jsx)(p.a,{size:46}),c=Object(h.l)().pathname;return Object(O.jsx)(l.a,{bg:"light",variant:"light",expand:"lg",collapseOnSelect:"true",sticky:"top",className:"navContainer",children:Object(O.jsxs)(d.a,{fluid:!0,children:[Object(O.jsx)(l.a.Brand,{className:"navbar-brand",children:Object(O.jsx)("img",{alt:"Portal pacjenta",src:o})}),Object(O.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(l.a.Collapse,{id:"navbarToggleExternalContent",className:"navCollapse",children:[Object(O.jsxs)(j.a,{className:"navNav",children:[Object(O.jsx)(b.LinkContainer,{to:"/wizyty",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink",children:n("appointments")})}),Object(O.jsx)(b.LinkContainer,{to:"/skierowania",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink",children:n("referrals")})}),Object(O.jsx)(b.LinkContainer,{to:"/grafik",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink",children:n("schedules")})}),Object(O.jsx)(b.LinkContainer,{to:"/badania",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink",children:n("checkups")})}),Object(O.jsx)(b.LinkContainer,{to:"/recepty",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink",children:n("prescriptions")})})]},c),Object(O.jsxs)(u.a,{className:"navItemLanguages",title:a,id:"basic-nav-dropdown",children:[Object(O.jsx)(b.LinkContainer,{to:"/moje-konto",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink2 nav-link",children:n("myAccount")})}),Object(O.jsx)(b.LinkContainer,{to:"/moje-pliki",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink2",children:n("myFiles")})}),Object(O.jsxs)(u.a,{title:n("language"),id:"basic-nav-dropdown",children:[Object(O.jsx)(u.a.Item,{onClick:function(){t("en")},children:"English"}),Object(O.jsx)(u.a.Item,{onClick:function(){t("pl")},children:"Polski"})]}),Object(O.jsx)(u.a.Divider,{}),Object(O.jsx)(u.a.Item,{href:"#wyloguj",children:n("logout")})]})]})]})})};var f=function(e){var t=e.t;return Object(O.jsx)("footer",{children:t("footer")})},x=n(15),v=n.n(x),g=n(21),y=n(433),N=n(233),C=n(8),k=n(47),w=n(112),S=n(30),D="https://medical-center.herokuapp.com",I=new Date,L=function(e){var t=e.t,n=S.b().shape({firstName:S.d().min(2,t("firstNameMinCharacter")).max(50,t("firstNameMaxCharacter")).required(t("required")),lastName:S.d().min(2,t("lastNameMinCharacter")).max(50,t("lastNameMaxCharacter")).required(t("required")),pesel:S.d().min(11,t("peselCharacterError")).max(11,t("peselCharacterError")).test("test-name",t("invalidPeselError"),(function(e){if(!1===/^[0-9]{11}$/.test(e))return!1;var t=(""+e).split("");if(parseInt(e.substring(4,6))>31||parseInt(e.substring(2,4))>12)return!1;var n=(1*parseInt(t[0])+3*parseInt(t[1])+7*parseInt(t[2])+9*parseInt(t[3])+1*parseInt(t[4])+3*parseInt(t[5])+7*parseInt(t[6])+9*parseInt(t[7])+1*parseInt(t[8])+3*parseInt(t[9]))%10;return 0===n&&(n=10),n=10-n,parseInt(t[10])===n})).required(t("required")),birthDate:S.a().max(I,t("dateFromFuture")).required(t("required")),phoneNumber:S.d().min(9,t("phoneNumberError")).required(t("required")),email:S.d().email(t("emailError")).required(t("required")),street:S.d().min(2).required(t("required")),streetNumber:S.d().required(t("required")),city:S.d().required(t("required")),postCode:S.d().required(t("required")),country:S.d().required(t("required"))}),c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(void 0),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)(void 0),p=Object(i.a)(b,2),h=p[0],m=p[1],f=Object(a.useState)(void 0),x=Object(i.a)(f,2),L=x[0],z=x[1],F=Object(a.useState)(void 0),E=Object(i.a)(F,2),T=E[0],A=E[1],V=Object(a.useState)(void 0),q=Object(i.a)(V,2),P=q[0],R=q[1],B=Object(a.useState)(void 0),G=Object(i.a)(B,2),U=G[0],H=G[1],M=Object(a.useState)(void 0),J=Object(i.a)(M,2),W=J[0],Y=J[1],K=Object(a.useState)(void 0),$=Object(i.a)(K,2),X=$[0],Z=$[1],_=Object(a.useState)(void 0),Q=Object(i.a)(_,2),ee=Q[0],te=Q[1],ne=Object(a.useState)(void 0),ae=Object(i.a)(ne,2),ce=ae[0],re=ae[1],se=Object(a.useState)(void 0),ie=Object(i.a)(se,2),oe=ie[0],le=ie[1],de=Object(a.useState)(void 0),je=Object(i.a)(de,2),ue=je[0],be=je[1];Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:t=e.sent,o(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){void 0!==s&&(u(s.firstName),m(s.lastName),z(s.pesel),A(s.birthDate),R(s.phoneNumber),H(s.email),Y(s.patientsFiles),s.address?Z(s.address.street):Z(void 0),s.address?te(s.address.streetNumber):te(void 0),s.address?re(s.address.city):re(void 0),s.address?le(s.address.postCode):le(void 0),s.address?be(s.address.country):be(void 0))}),[s]);var pe=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/patients/1"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s?Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("myData")})}),Object(O.jsx)(w.a,{validationSchema:n,enableReinitialize:!0,onSubmit:function(){var e={id:1,address:{street:X,streetNumber:ee,postCode:oe,city:ce,country:ue},phoneNumber:P,firstName:j,lastName:h,email:U,birthDate:T,pesel:L,patientsFiles:W};fetch("".concat(D,"/patients"),{method:"PUT",headers:{"Access-Control-Allow-Origin":"".concat(D),"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},initialErrors:{},validateOnChange:!0,validateOnMount:!0,initialValues:{firstName:j,lastName:h,pesel:L,birthDate:T,phoneNumber:P,email:U,street:X,streetNumber:ee,city:ce,postCode:oe,country:ue},children:function(e){e.handleChange;var n=e.handleSubmit,a=e.values,c=e.touched,r=(e.isValid,e.errors);return Object(O.jsxs)(C.a,{className:"newAppointmentForm",onSubmit:n,children:[Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("firstName")}),Object(O.jsx)(C.a.Control,{type:"text",name:"firstName",placeholder:t("firstName"),size:"lg",defaultValue:a.firstName,isInvalid:!!r.firstName,isValid:c.firstName&&!r.firstName,onChange:function(e){return u(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.firstName})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("lastName")}),Object(O.jsx)(C.a.Control,{type:"text",name:"lastName",placeholder:t("lastName"),size:"lg",defaultValue:a.lastName,isInvalid:!!r.lastName,isValid:c.lastName&&!r.lastName,onChange:function(e){return m(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.lastName})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"PESEL:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"pesel",placeholder:"PESEL",size:"lg",defaultValue:a.pesel,isInvalid:!!r.pesel,isValid:c.pesel&&!r.pesel,onChange:function(e){return z(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.pesel})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("birthDate")}),Object(O.jsx)(C.a.Control,{type:"date",name:"birthDate",placeholder:t("birthDate"),size:"lg",defaultValue:a.birthDate,isInvalid:!!r.birthDate,isValid:c.birthDate&&!r.birthDate,onChange:function(e){return A(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.birthDate})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("phoneNumber")}),Object(O.jsx)(C.a.Control,{type:"text",name:"phoneNumber",placeholder:t("phoneNumber"),size:"lg",defaultValue:a.phoneNumber,isInvalid:!!r.phoneNumber,isValid:c.phoneNumber&&!r.phoneNumber,onChange:function(e){return R(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.phoneNumber})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Email:"}),Object(O.jsx)(C.a.Control,{type:"email",name:"email",placeholder:"Email",size:"lg",defaultValue:a.email,isInvalid:!!r.email,isValid:c.email&&!r.email,onChange:function(e){return H(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.email})]})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("street")}),Object(O.jsx)(C.a.Control,{type:"text",name:"street",placeholder:t("street"),size:"lg",defaultValue:a.street,isInvalid:!!r.street,isValid:c.street&&!r.street,onChange:function(e){return Z(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.street})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("streetNumber")}),Object(O.jsx)(C.a.Control,{type:"text",name:"streetNumber",placeholder:t("streetNumber"),size:"lg",defaultValue:a.streetNumber,isInvalid:!!r.streetNumber,isValid:c.streetNumber&&!r.streetNumber,onChange:function(e){return te(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.streetNumber})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("city")}),Object(O.jsx)(C.a.Control,{type:"text",name:"city",placeholder:t("city"),size:"lg",defaultValue:a.city,isInvalid:!!r.city,isValid:c.city&&!r.city,onChange:function(e){return re(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.city})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("postCode")}),Object(O.jsx)(C.a.Control,{type:"text",name:"postCode",placeholder:t("postCode"),size:"lg",defaultValue:a.postCode,isInvalid:!!r.postCode,isValid:c.postCode&&!r.postCode,onChange:function(e){return le(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.postCode})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("country")}),Object(O.jsx)(C.a.Control,{type:"text",name:"country",placeholder:t("country"),size:"lg",defaultValue:a.country,isInvalid:!!r.country,isValid:c.country&&!r.country,onChange:function(e){return be(e.target.value)}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:r.country})]})}),Object(O.jsx)(N.a,{children:Object(O.jsx)(C.a.Group,{})})]}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(k.a,{variant:"primary",size:"lg",type:"submit",children:t("edit")})})]})}})]}):null},z=n(22),F=n(10),E=n(234);var T=function(e){var t=e.t,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(void 0),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(void 0),b=Object(i.a)(u,2),p=b[0],h=b[1],m=Object(a.useState)(void 0),f=Object(i.a)(m,2),x=f[0],y=f[1],N=Object(a.useState)({}),w=Object(i.a)(N,2),S=w[0],I=w[1],L=Object(a.useRef)();Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==d){e.next=5;break}return e.next=3,T();case 3:t=e.sent,s(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[d]),Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===p){e.next=6;break}return e.next=3,T();case 3:t=e.sent,s(t),h(void 0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[p]);var T=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/patients/1/files"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}}))},V=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,c,r,s,i,o,l,d,u,b;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,A(n);case 3:for(a=e.sent,c=a.split("base64,")[1],r=atob(c),s=new Array(r.length),i=0;i<r.length;i++)s[i]=r.charCodeAt(i);o=new Uint8Array(s),l=Array.from(o),d=new Date,u=d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate(),b={upload_date:u,file:l,type:t.target.files[0].type,name:t.target.files[0].name},j(b);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(e){e.preventDefault();var t=P();Object.keys(t).length>0?I(t):void 0!==d&&void 0!==x&&(d.description=x,fetch("".concat(D,"/patients/1/files"),{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"".concat(D)},body:JSON.stringify(d)}).then((function(){j(void 0),y(""),L.current.value=""})).catch((function(e){return console.log(e)})))},P=function(){var e={};return void 0===d&&(e.file=t("selectFileError")),void 0!==x&&""!==x||(e.description=t("fileDescriptionError")),void 0===d||["image/png","image/jpeg","application/pdf","application/msword"].includes(d.type)||(e.file=t("uploadFileFormatsError")),e};return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("addNewFile")})}),Object(O.jsxs)(C.a,{className:"newAppointmentForm",children:[Object(O.jsxs)(C.a.Group,{controlId:"file",className:"mb-2",children:[Object(O.jsx)(C.a.Label,{children:t("file")}),Object(O.jsx)(C.a.Control,{as:"input",ref:L,type:"file",isInvalid:!!S.file,onChange:function(e){V(e),S.file&&I(Object(F.a)(Object(F.a)({},S),{},Object(z.a)({},"file",null)))}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:S.file})]}),Object(O.jsxs)(C.a.Group,{controlId:"description",className:"mb-2",children:[Object(O.jsx)(C.a.Label,{children:t("fileDescription")}),Object(O.jsx)(C.a.Control,{as:"textarea",value:x,isInvalid:!!S.description,onChange:function(e){y(e.target.value),S.description&&I(Object(F.a)(Object(F.a)({},S),{},Object(z.a)({},"description",null)))}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:S.description})]}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(k.a,{variant:"primary",onClick:function(e){return q(e)},children:t("addFile")})})]}),r.length>0?Object(O.jsxs)(E.a,{className:"table table-hover table-bordered fileTable",style:{width:"80%"},children:[Object(O.jsx)("thead",{style:{backgroundColor:"#e6eeff"},children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:t("fileNameFormat")}),Object(O.jsx)("th",{children:t("fileDescription")}),Object(O.jsx)("th",{children:t("createDate")}),Object(O.jsx)("th",{children:t("action")})]})}),Object(O.jsx)("tbody",{children:r.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.description}),Object(O.jsx)("td",{children:e.uploadDate}),Object(O.jsx)("td",{children:Object(O.jsxs)("ul",{className:"listActions",children:[Object(O.jsx)("li",{children:Object(O.jsx)(k.a,{variant:"primary",href:"".concat(D,"/patients/1/files/").concat(e.id),onClick:function(t){return function(e,t){e.preventDefault(),fetch("".concat(D,"/patients/1/files/").concat(t.id)).then((function(e){return e.json()})).then((function(e){var n=window.document.createElement("a"),a=new Uint8Array(e.file);n.href=window.URL.createObjectURL(new Blob([a],{type:t.type})),n.download=e.name,document.body.appendChild(n),n.click(),document.body.removeChild(n)}))}(t,e)},children:t("download")})}),Object(O.jsx)("li",{children:Object(O.jsx)(k.a,{variant:"danger",href:"".concat(D,"/patients/1/files/").concat(e.id),onClick:function(t){h(e),function(e,t){e.preventDefault(),fetch("".concat(D,"/patients/1/files/").concat(t.id),{method:"DELETE"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t,e)},children:t("delete")})})]})})]},e.id)}))})]}):t("noFiles")]})},A=n(40),V=n(52),q=n(155),P=function(e){var t=e.appointment,n=e.setCancelledAppointment,c=e.t,r=Object(a.useState)(t),s=Object(i.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(!1),j=Object(i.a)(d,2),u=j[0],b=j[1];Object(a.useEffect)((function(){void 0!==t&&l(t)}),[t]);var p=6e4*(new Date).getTimezoneOffset(),h=function(e){return e.toISOString().slice(0,10)};return Object(O.jsxs)("div",{className:o.date?new Date((new Date).setDate((new Date).getDate()+1))<new Date(o.date.slice(0,10))&&"RESERVED"===o.state?"appointmentAndCheckup incomingApp":new Date((new Date).setDate((new Date).getDate()+1)).getDate()===new Date(o.date.slice(0,10)).getDate()&&"RESERVED"===o.state?"appointmentAndCheckup appToConfirm":h(new Date)===o.date.slice(0,10)||new Date((new Date).setDate((new Date).getDate()+1)).getDate()===new Date(o.date.slice(0,10)).getDate()&&"CONFIRMED"===o.state?"appointmentAndCheckup todayApp":"appointmentAndCheckup archivalApp":"",onClick:function(e){return function(e){e.preventDefault(),b(!u)}(e)},children:[Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)("p",{className:"appointmentAndCheckupHeader",children:o.service?o.service.name:o.serviceName}),Object(O.jsxs)("div",{className:"data",children:[Object(O.jsx)("p",{children:c("date")}),Object(O.jsx)("p",{children:t.date?new Date(new Date(t.date)-p).toISOString().slice(0,10):""}),Object(O.jsx)("p",{children:t.date?new Date(new Date(t.date)-p).toISOString().slice(11,16):""}),"DONE"===t.state&&h(new Date)===o.date.slice(0,10)&&Object(O.jsx)("p",{children:Object(O.jsx)(q.a,{size:42,style:{color:"#18a74b"}})})]})]}),o.date?Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(V.d,{size:42}),c("doctorTitle"),"\xa0",o.doctor?o.doctor.firstName+" "+o.doctor.lastName:""]}),Object(O.jsxs)("div",{className:"appointmentButtons",children:[new Date((new Date).setDate((new Date).getDate()+1)).getDate()===new Date(o.date.slice(0,10)).getDate()&&"RESERVED"===o.state&&Object(O.jsx)(k.a,{variant:"danger",size:"lg",onClick:function(e){return function(e){e.preventDefault();var n=o;n.state="CONFIRMED",l(n),fetch("".concat(D,"/appointments/").concat(t.id,"/confirm"),{method:"PATCH",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then(window.alert(c("confirmedAppointmentInfo"))).catch((function(e){return console.log(e)}))}(e)},children:c("confirmAppointmentMessage")}),"RESERVED"===o.state&&Object(O.jsx)(k.a,{variant:"primary",size:"lg",onClick:function(e){return function(e){e.preventDefault();var a=o;a.state="AVAILABLE",n(a),fetch("".concat(D,"/appointments/").concat(t.id,"/cancel"),{method:"PATCH",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then(window.alert(c("canceledAppointmentInfo"))).catch((function(e){return console.log(e)}))}(e)},children:c("cancelAppointmentMessage")})]})]}):"","DONE"===o.state?Object(O.jsx)(O.Fragment,{children:u?Object(O.jsxs)("div",{children:[Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(V.a,{size:42}),Object(O.jsx)("p",{className:"header",children:c("recommendations")})]}),Object(O.jsx)("ol",{children:Object(O.jsx)("li",{children:o.recommendations?o.recommendations:c("noRecommendations")})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(V.b,{size:42}),Object(O.jsx)("p",{className:"header",children:c("madeCheckUps")})]}),Object(O.jsx)("p",{children:o.diagnosticTests.length>0?o.diagnosticTests.map((function(e){return e.diagnosticTestName})):c("noCheckUps")}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(q.b,{size:42}),Object(O.jsx)("p",{className:"header",children:c("eReceipt")})]}),Object(O.jsx)("p",{children:o.prescriptions.length>0?c("eReceiptIssued"):c("noReceipts")})]}):null}):null]})},R=(n(223),n(441)),B=function(e){var t=e.t,n=[3,5,10],c="RESERVED",r=Object(a.useState)([]),s=Object(i.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(void 0),j=Object(i.a)(d,2),u=j[0],b=j[1],p=Object(a.useState)([o]),m=Object(i.a)(p,2),f=m[0],x=m[1],y=Object(a.useState)(void 0),N=Object(i.a)(y,2),k=N[0],w=N[1],S=Object(a.useState)(1),I=Object(i.a)(S,2),L=I[0],z=I[1],F=Object(a.useState)(0),E=Object(i.a)(F,2),T=E[0],V=E[1],q=Object(a.useState)(n[0]),B=Object(i.a)(q,2),G=B[0],U=B[1],H=Object(h.k)(),M=function(e,t){var n={};return e&&(n.page=e-1),t&&(n.size=t),n};function J(e){return null!=e.patientId}Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,r,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],a=[],r=[],s=[],e.next=7,W().then((function(e){V(e.totalPages),e.appointments.map((function(e){new Date(e.date.slice(0,10))>new Date((new Date).setDate((new Date).getDate()+1))&&e.state===c?a.push(e):new Date((new Date).setDate((new Date).getDate()+1)).getDate()===new Date(e.date.slice(0,10)).getDate()&&e.state===c?n.push(e):"CONFIRMED"===e.state?t.push(e):"DONE"===e.state&&r.push(e)}))})).then((function(){t=t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),s=[].concat(n,Object(A.a)(t),a,r)}));case 7:e.sent,l(s),x(s);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[k,L,G]),Object(a.useEffect)((function(){if(void 0!==k){var e=o.filter(J);l(e)}}),[k]);var W=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=M(L,G)).page||null===t.size){e.next=7;break}return e.next=4,fetch("".concat(D,"/patients/1/appointments?page=").concat(t.page,"&size=").concat(t.size));case 4:n=e.sent,e.next=22;break;case 7:if(null===t.page||null!==t.size){e.next=13;break}return e.next=10,fetch("".concat(D,"/patients/1/appointments?page=").concat(t.page));case 10:n=e.sent,e.next=22;break;case 13:if(null!==t.page||null===t.size){e.next=19;break}return e.next=16,fetch("".concat(D,"/patients/1/appointments?size=").concat(t.size));case 16:n=e.sent,e.next=22;break;case 19:return e.next=21,fetch("".concat(D,"/patients/1/appointments"));case 21:n=e.sent;case 22:return e.next=24,n.json();case 24:return a=e.sent,e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("yourAppointments")})}),Object(O.jsx)("div",{className:"appointmentListHeader",children:Object(O.jsxs)("div",{className:"checkBoxesAndButton",children:[Object(O.jsxs)("div",{className:"checkboxes",children:[Object(O.jsxs)("div",{className:"checkbox",children:[Object(O.jsx)("input",{type:"radio",id:"all",name:"box",value:"all",onChange:function(){x(o)}}),Object(O.jsx)("label",{htmlFor:"all",children:t("all")})]}),Object(O.jsxs)("div",{className:"checkbox",children:[Object(O.jsx)("input",{type:"radio",id:"normal",name:"box",value:"normal",onChange:function(){var e=o.filter((function(e){return"FACILITY"===e.type}));x(e)}}),Object(O.jsx)("label",{htmlFor:"normal",children:t("facilityAppointment")})]}),Object(O.jsxs)("div",{className:"checkbox",children:[Object(O.jsx)("input",{type:"radio",id:"tele",name:"box",value:"tele",onChange:function(){var e=o.filter((function(e){return"TELEPHONE"===e.type}));x(e)}}),Object(O.jsx)("label",{htmlFor:"tele",children:t("teleconsultation")})]})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"actionButton",onClick:function(){H.push("/nowa-wizyta")},children:t("makeAppointment")})})]})}),Object(O.jsxs)("div",{className:"test",children:[Object(O.jsx)("div",{className:"appDate",children:Object(O.jsx)(C.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:t("date")}),Object(O.jsx)(C.a.Control,{type:"date",onChange:function(e){b(e.target.value),function(e){if(e.preventDefault(),e.target.value){(new Date).getTimezoneOffset();var t=o.filter((function(t){return t.date.slice(0,10)===e.target.value}));x(t)}else b((new Date).toISOString().slice(0,10))}(e)},value:u})]})})}),Object(O.jsxs)("div",{className:"itemsNumber",style:{height:"4%"},children:[Object(O.jsxs)("p",{children:[t("elementsNumber"),"\xa0"]}),Object(O.jsx)("select",{onChange:function(e){U(e.target.value),z(1)},value:G,children:n.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})]})]}),Object(O.jsx)("div",{className:"appointmentList",children:f.map((function(e){return Object(O.jsx)(P,{appointment:e,setCancelledAppointment:w,t:t},e.id)}))}),Object(O.jsx)(R.a,{className:"my-3",count:T,page:L,siblingCount:1,boundaryCount:1,shape:"rounded",onChange:function(e,t){z(t)}})]})},G=Object(h.o)((function(e){var t=e.getAppointments,n=e.t,c=function(e){return e.toISOString().slice(0,10)},r=["polski","english"],s=Object(h.k)().location.state,o=Object(a.useState)(void 0),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(r[0]),b=Object(i.a)(u,2),p=b[0],m=b[1],f=Object(a.useState)(void 0),x=Object(i.a)(f,2),w=x[0],S=x[1],I=Object(a.useState)(s||void 0),L=Object(i.a)(I,2),E=L[0],T=L[1],A=Object(a.useState)(E||void 0),V=Object(i.a)(A,2),q=V[0],P=V[1],R=Object(a.useState)(void 0),B=Object(i.a)(R,2),G=B[0],U=B[1],H=Object(a.useState)([]),M=Object(i.a)(H,2),J=M[0],W=M[1],Y=Object(a.useState)([]),K=Object(i.a)(Y,2),$=K[0],X=K[1],Z=Object(a.useState)([]),_=Object(i.a)(Z,2),Q=_[0],ee=_[1],te=Object(a.useState)(c(new Date)),ne=Object(i.a)(te,2),ae=ne[0],ce=ne[1],re=Object(a.useState)(c(new Date((new Date).setDate((new Date).getDate()+14)))),se=Object(i.a)(re,2),ie=se[0],oe=se[1],le=Object(a.useState)({}),de=Object(i.a)(le,2),je=de[0],ue=de[1];Object(a.useEffect)((function(){if(void 0!==d)if("facility"===d){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(!0);case 2:t=e.sent,X(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else{var t=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(!1);case 2:t=e.sent,X(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}}),[d]),Object(a.useEffect)((function(){if(void 0!==w)if(!1===w.doneByMedicalStaff){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:t=e.sent,ee(t),document.querySelector("#doctorr").disabled=!1;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else{document.querySelector("#doctorr").disabled=!0}}),[w]),Object(a.useEffect)((function(){if(void 0!==E){if(P(E),document.getElementById("selectedReferral").value=E,!0===E.medicalService.facilityService)j("facility"),document.querySelector("#facility").checked=!0;else j("phone"),document.querySelector("#phone").checked=!0;S(E.medicalService),document.querySelector("#selectService").disabled=!0}}),[E]),Object(a.useEffect)((function(){if(void 0!==q){if(!0===q.medicalService.facilityService){j("facility");var e=document.querySelector("#facility");e.checked=!0,e.disabled=!0,document.querySelector("#phone").disabled=!0}else{j("phone");var t=document.querySelector("#phone");t.checked=!0,t.disabled=!0,document.querySelector("#facility").disabled=!0}S(q.medicalService),document.querySelector("#selectService").disabled=!0}}),[q]),Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return e.toISOString().slice(0,10)},e.next=3,be();case 3:n=e.sent,a=n.referrals.filter((function(e){return t(new Date(e.expiryDate))>=t(new Date)})),W(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var be=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/patients/1/referrals?size=100"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("polski"!==p){e.next=6;break}return e.next=3,fetch("".concat(D,"/doctors/services?language=PL&medicalServiceId=").concat(w.id));case 3:t=e.sent,e.next=9;break;case 6:return e.next=8,fetch("".concat(D,"/doctors/services?language=EN&medicalServiceId=").concat(w.id));case 8:t=e.sent;case 9:return e.next=11,t.json();case 11:return n=e.sent,e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==t){e.next=6;break}return e.next=3,fetch("".concat(D,"/medicalServices?type=FACILITY"));case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,fetch("".concat(D,"/medicalServices?type=TELEPHONE"));case 8:n=e.sent;case 9:return e.next=11,n.json();case 11:return a=e.sent,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Oe(e){e.preventDefault(),P(void 0),T(void 0),j(void 0);var t=document.querySelector("#facility");t.checked=!1,t.disabled=!1;var n=document.querySelector("#phone");n.checked=!1,n.disabled=!1,S(void 0),document.querySelector("#selectService").disabled=!1,X([]),ee([])}function me(e){e.preventDefault();var a=function(){var e={};return void 0===d&&(e.appType=n("appointmentTypeError")),void 0===w&&(e.serviceMess=n("serviceError")),e}();Object.keys(a).length>0?ue(a):t(d,p,w,void 0!==G?G:null,ae,ie,void 0!==q?q:null)}return Object(O.jsxs)(C.a,{className:"newAppointmentForm",children:[Object(O.jsxs)(C.a.Group,{className:"mb-3",children:[Object(O.jsx)(C.a.Label,{children:n("appointmentType")}),Object(O.jsx)(C.a.Check,{type:"radio",name:"type",id:"facility",label:n("facility"),onClick:function(e){j("facility"),je.appType&&ue(Object(F.a)(Object(F.a)({},je),{},Object(z.a)({},"appType",null)))},isInvalid:!!je.appType}),Object(O.jsx)(C.a.Check,{type:"radio",name:"type",id:"phone",label:n("teleconsultation"),onClick:function(e){j("phone"),je.appType&&ue(Object(F.a)(Object(F.a)({},je),{},Object(z.a)({},"appType",null)))},isInvalid:!!je.appType}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:je.appType})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsxs)(C.a.Label,{children:[n("language"),":"]}),Object(O.jsx)(C.a.Select,{id:"selectedLanguage",children:r.map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(t){return m(e)},children:e})}))})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsxs)(C.a.Label,{children:[n("referral"),":"]}),Object(O.jsxs)(C.a.Select,{id:"selectedReferral",defaultValue:E,children:[!E&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("option",{onClick:function(e){Oe(e)},value:"0",children:n("useReferral")}),J.map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(t){var n;P(e),ue((n={},Object(z.a)(n,"serviceMess",null),Object(z.a)(n,"appType",null),n))},children:e.medicalService?n("dueTo")+" "+e.expiryDate+" - "+e.medicalService.name:""},e.id)}))]}),E&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("option",{children:n("dueTo")+" "+E.expiryDate+" - "+E.medicalService.name}),Object(O.jsx)("option",{onClick:function(e){Oe(e)},value:"0",children:n("useReferral")}),J.filter((function(e){return e.id!==E.id})).map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(t){var n;P(e),ue((n={},Object(z.a)(n,"serviceMess",null),Object(z.a)(n,"appType",null),n))},children:e.medicalService?n("dueTo")+" "+e.expiryDate+" - "+e.medicalService.name:""},e.id)}))]})]})]})})]}),Object(O.jsxs)(C.a.Group,{className:"mb-3",children:[Object(O.jsx)(C.a.Label,{children:n("service")}),Object(O.jsxs)(C.a.Select,{id:"selectService",isInvalid:!!je.serviceMess,children:[Object(O.jsx)("option",{onClick:function(e){return function(e){void 0===q&&(e.preventDefault(),S(void 0),ee([]))}(e)},children:q?q.medicalService.name:n("chooseService")}),$.map((function(e){return Object(O.jsx)("option",{value:e.name,onClick:function(t){S(e),je.serviceMess&&ue(Object(F.a)(Object(F.a)({},je),{},Object(z.a)({},"serviceMess",null)))},children:e.name})}))]}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:je.serviceMess})]}),Object(O.jsxs)(C.a.Group,{className:"mb-3",children:[Object(O.jsx)(C.a.Label,{children:n("doctor")}),Object(O.jsxs)(C.a.Select,{id:"doctorr",children:[Object(O.jsx)("option",{value:"0",children:n("chooseDoctor")}),Q.map((function(e){return Object(O.jsx)("option",{value:e.firstName+" "+e.lastName,onClick:function(t){return U(e)},children:e.firstName+" "+e.lastName})}))]})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:n("dateFrom")}),Object(O.jsx)(C.a.Control,{type:"date",placeholder:n("dateFrom"),value:ae,onChange:function(e){return ce(e.target.value)}})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:n("dateTo")}),Object(O.jsx)(C.a.Control,{type:"date",placeholder:n("dateTo"),value:ie,onChange:function(e){return oe(e.target.value)}})]})})]}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(k.a,{variant:"primary",onClick:function(e){return me(e)},children:n("searchAppointment")})})]})})),U=function(e){var t=e.appointment,n=e.setOpenModal,c=e.setSelectedAppointment,r=e.t,s=Object(a.useState)(t),o=Object(i.a)(s,2),l=o[0],d=o[1];Object(a.useEffect)((function(){void 0!==t&&d(t)}),[t]);var j=6e4*(new Date).getTimezoneOffset();return Object(O.jsxs)("div",{className:"availableAppointment",title:r("chooseAppointment"),children:[Object(O.jsxs)("div",{className:"availableAppointmentDate",children:[Object(O.jsx)("p",{children:new Date(new Date(l.date)-j).toISOString().slice(0,10)}),Object(O.jsx)("p",{children:new Date(new Date(l.date)-j).toISOString().slice(11,16)})]}),Object(O.jsx)("div",{className:"availableAppointmentDoctor",children:Object(O.jsx)("p",{children:t.doctor?r("doctorTitle")+" "+t.doctor.firstName+" "+t.doctor.lastName:r("medicalStaff")})}),Object(O.jsx)("div",{className:"availableAppointmentBtn",children:Object(O.jsx)("button",{className:"actionButton",onClick:function(e){return function(e){e.preventDefault(),c(l),n(!0)}(e)},children:r("reserve")})})]})},H=function(e){var t=e.selectedAppointment,n=e.setOpenModal,c=e.selectedReferral,r=e.t,s=Object(h.k)(),o=Object(a.useState)(t),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(c),b=Object(i.a)(u,2),p=b[0],m=b[1];Object(a.useEffect)((function(){void 0!==t&&j(t)}),[t]),Object(a.useEffect)((function(){void 0!==c&&m(c)}),[c]);var f=6e4*(new Date).getTimezoneOffset();var x;return Object(O.jsx)("div",{className:"modalBackground",children:Object(O.jsxs)("div",{className:"modalContainer",children:[Object(O.jsx)("div",{className:"titleCloseBtn",children:Object(O.jsx)("button",{onClick:function(){return n(!1)},children:" X "})}),Object(O.jsxs)("div",{className:"modalTitle",children:[Object(O.jsx)("h2",{children:r("confirmAppointment")}),Object(O.jsx)("hr",{})]}),Object(O.jsxs)("div",{className:"modalBody",children:[Object(O.jsxs)("div",{className:"modalSection",children:[Object(O.jsx)("p",{children:r("date")}),Object(O.jsx)("p",{children:new Date(new Date(d.date)-f).toISOString().slice(0,10)})]}),Object(O.jsxs)("div",{className:"modalSection",children:[Object(O.jsx)("p",{children:r("hour")}),Object(O.jsx)("p",{children:new Date(new Date(d.date)-f).toISOString().slice(11,16)})]}),Object(O.jsxs)("div",{className:"modalSection",children:[Object(O.jsx)("p",{children:r("appointmentType")}),Object(O.jsx)("p",{children:"FACILITY"===d.type?r("facility"):r("teleconsultation")})]}),Object(O.jsxs)("div",{className:"modalSection",children:[Object(O.jsx)("p",{children:r("service")}),Object(O.jsx)("p",{children:d.service.name})]}),d.doctor&&Object(O.jsxs)("div",{className:"modalSection",children:[Object(O.jsx)("p",{children:r("doctor")}),Object(O.jsx)("p",{children:d.doctor.firstName+" "+d.doctor.lastName})]}),null!==p&&Object(O.jsxs)("div",{className:"modalSection",children:[Object(O.jsx)("p",{children:r("usedReferral")}),Object(O.jsx)("p",{children:p?"tak":"nie"})]}),new Date(new Date(d.date)-f).toISOString().slice(0,10)===(x=new Date,x.toISOString().slice(0,10))&&Object(O.jsx)("div",{className:"warning",children:Object(O.jsx)("p",{children:r("appointmentAutoConfirm")})}),Object(O.jsxs)("div",{className:"modalFooter",children:[Object(O.jsx)("button",{onClick:function(){return n(!1)},className:"cancelButton",children:r("cancel")}),Object(O.jsx)("button",{onClick:function(e){return function(e){var n;e.preventDefault(),n=null!==p?{patientId:1,referralId:p.id}:{patientId:1},(new Date).toISOString().slice(0,10)===new Date(new Date(d.date)-f).toISOString().slice(0,10)&&(n=Object(F.a)(Object(F.a)({},n),{},{confirmed:!0})),fetch("".concat(D,"/appointments/").concat(t.id,"/reserve"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then(window.alert("Um\xf3wiono wizyt\u0119")).then(s.push({pathname:"/wizyty"})).catch((function(e){return console.log(e)}))}(e)},children:r("confirm")})]})]})]})})},M=Object(h.o)((function(e){var t=e.t,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(void 0),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(void 0),b=Object(i.a)(u,2),p=b[0],h=b[1],m=Object(a.useState)(void 0),f=Object(i.a)(m,2),x=f[0],y=f[1],N=Object(a.useState)(!1),C=Object(i.a)(N,2),k=C[0],w=C[1],S=Object(a.useState)(void 0),I=Object(i.a)(S,2),L=I[0],z=I[1],F=Object(a.useState)(void 0),E=Object(i.a)(F,2),T=E[0],A=E[1],V=Object(a.useState)(void 0),q=Object(i.a)(V,2),P=q[0],B=q[1],M=Object(a.useState)(void 0),J=Object(i.a)(M,2),W=J[0],Y=J[1],K=[3,5,10],$=Object(a.useState)(1),X=Object(i.a)($,2),Z=X[0],_=X[1],Q=Object(a.useState)(0),ee=Object(i.a)(Q,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(K[0]),ce=Object(i.a)(ae,2),re=ce[0],se=ce[1],ie=function(e,t){var n={};return e&&(n.page=e-1),t&&(n.size=t),n};Object(a.useEffect)((function(){if(void 0!==d){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:t=e.sent,s(t.appointments),ne(t.totalPages);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[d,Z,re]),Object(a.useEffect)((function(){void 0!==p&&h(p)}),[p]);var oe=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ie(Z,re),n=(new Date).toString().slice(16,24),null===P){e.next=26;break}if(null===t.page||null===t.size){e.next=9;break}return e.next=6,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&doctorId=").concat(P.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W,"&page=").concat(t.page,"&size=").concat(t.size));case 6:a=e.sent,e.next=24;break;case 9:if(null===t.page||null!==t.size){e.next=15;break}return e.next=12,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&doctorId=").concat(P.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W,"&page=").concat(t.page));case 12:a=e.sent,e.next=24;break;case 15:if(null!==t.page||null===t.size){e.next=21;break}return e.next=18,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&doctorId=").concat(P.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W,"&size=").concat(t.size));case 18:a=e.sent,e.next=24;break;case 21:return e.next=23,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&doctorId=").concat(P.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W));case 23:a=e.sent;case 24:e.next=47;break;case 26:if(null===t.page||null===t.size){e.next=32;break}return e.next=29,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W,"&page=").concat(t.page,"&size=").concat(t.size));case 29:a=e.sent,e.next=47;break;case 32:if(null===t.page||null!==t.size){e.next=38;break}return e.next=35,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W,"&page=").concat(t.page));case 35:a=e.sent,e.next=47;break;case 38:if(null!==t.page||null===t.size){e.next=44;break}return e.next=41,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W,"&size=").concat(t.size));case 41:a=e.sent,e.next=47;break;case 44:return e.next=46,fetch("".concat(D,"/appointments?medicalServiceId=").concat(d.id,"&dateFrom=").concat(L,"T").concat(n,"&dateTo=").concat(T,"T23:59:00&language=").concat(W));case 46:a=e.sent;case 47:return e.next=49,a.json();case 49:return c=e.sent,e.abrupt("return",c);case 51:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("newAppointment")})}),Object(O.jsx)(G,{getAppointments:function(e,t,n,a,c,r,s){j(n),y(s),z(c),A(r),B(a),Y("polski"===t?"PL":"EN")},t:t}),Object(O.jsxs)(O.Fragment,{children:[r.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h3",{style:{fontFamily:"Montserrat, sans-serif"},children:t("availableAppointments")}),Object(O.jsxs)("div",{className:"itemsNumber availableAppsPagination",children:[Object(O.jsxs)("p",{children:[t("elementsNumber"),"\xa0"]}),Object(O.jsx)("select",{onChange:function(e){se(e.target.value),_(1)},value:re,children:K.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})]})]}),r.length>0?r.map((function(e){return Object(O.jsx)(U,{appointment:e,setOpenModal:w,setSelectedAppointment:h,t:t},e.id)})):void 0!==d?t("noAppointments"):"",r.length>0&&Object(O.jsx)(R.a,{className:"my-3",count:te,page:Z,siblingCount:1,boundaryCount:1,shape:"rounded",onChange:function(e,t){_(t)}}),k&&void 0!==p?Object(O.jsx)(H,{selectedAppointment:p,setOpenModal:w,selectedReferral:x,t:t}):""]})]})})),J=function(e){var t=e.referral,n=e.setSelectedReferral,c=e.t,r=Object(h.k)(),s=Object(a.useState)(t),o=Object(i.a)(s,2),l=o[0],d=o[1];Object(a.useEffect)((function(){void 0!==t&&d(t)}),[t]);var j=function(e){return e.toISOString().slice(0,10)};return Object(O.jsxs)("div",{className:"referral",children:[Object(O.jsx)("div",{className:"referralDiv1",children:Object(O.jsx)("p",{className:"referralHeader",children:l.medicalService.name})}),Object(O.jsxs)("div",{className:"referralDiv2",children:[Object(O.jsxs)("p",{children:[c("issueDate"),"\xa0",l.issueDate]}),Object(O.jsxs)("p",{children:[c("referralValidUntil"),"\xa0",l.expiryDate]})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:j(new Date(l.expiryDate))>=j(new Date)?Object(O.jsx)("button",{className:"actionButton",onClick:function(e){return function(e){e.preventDefault(),n(t),r.push({pathname:"/nowa-wizyta",state:l})}(e)},children:"UM\xd3W WIZYT\u0118"}):Object(O.jsx)("p",{style:{color:"red"},children:c("referralInvalid")})})]})},W=function(e){var t=e.t,n=[3,5,10],c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(void 0),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)(1),p=Object(i.a)(b,2),h=p[0],m=p[1],f=Object(a.useState)(0),x=Object(i.a)(f,2),y=x[0],N=x[1],C=Object(a.useState)(n[0]),k=Object(i.a)(C,2),w=k[0],S=k[1],I=function(e,t){var n={};return e&&(n.page=e-1),t&&(n.size=t),n};Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,o(t.referrals),N(t.totalPages);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h,w]),Object(a.useEffect)((function(){void 0!==j&&o(s.filter(z))}),[j]);var L=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=I(h,w)).page||null===t.size){e.next=7;break}return e.next=4,fetch("".concat(D,"/patients/1/referrals?page=").concat(t.page,"&size=").concat(t.size));case 4:n=e.sent,e.next=22;break;case 7:if(null===t.page||null!==t.size){e.next=13;break}return e.next=10,fetch("".concat(D,"/patients/1/referrals?page=").concat(t.page));case 10:n=e.sent,e.next=22;break;case 13:if(null!==t.page||null===t.size){e.next=19;break}return e.next=16,fetch("".concat(D,"/patients/1/referrals?size=").concat(t.size));case 16:n=e.sent,e.next=22;break;case 19:return e.next=21,fetch("".concat(D,"/patients/1/referrals"));case 21:n=e.sent;case 22:return e.next=24,n.json();case 24:return a=e.sent,e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){if(e.id!==j.id)return e}return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("yourReferrals")})}),Object(O.jsxs)("div",{className:"itemsNumber",children:[Object(O.jsxs)("p",{children:[t("elementsNumber"),"\xa0"]}),Object(O.jsx)("select",{onChange:function(e){S(e.target.value),m(1)},value:w,children:n.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})]}),s.map((function(e){return Object(O.jsx)(J,{referral:e,setSelectedReferral:u,t:t},e.id)})),Object(O.jsx)(R.a,{className:"my-3",count:y,page:h,siblingCount:1,boundaryCount:1,shape:"rounded",onChange:function(e,t){m(t)}})]})},Y=n(438),K=n(69),$=n(44),X=n(436),Z=n(36),_=Object(X.a)((function(e){return{todayCell:{backgroundColor:Object(Z.fade)(e.palette.primary.main,.1),"&:hover":{backgroundColor:Object(Z.fade)(e.palette.primary.main,.14)},"&:focus":{backgroundColor:Object(Z.fade)(e.palette.primary.main,.16)}},weekendCell:{backgroundColor:Object(Z.fade)(e.palette.action.disabledBackground,.04),"&:hover":{backgroundColor:Object(Z.fade)(e.palette.action.disabledBackground,.04)},"&:focus":{backgroundColor:Object(Z.fade)(e.palette.action.disabledBackground,.04)}},today:{backgroundColor:Object(Z.fade)(e.palette.primary.main,.16)},weekend:{backgroundColor:Object(Z.fade)(e.palette.action.disabledBackground,.06)}}})),Q=function(e){var t=_(),n=e.startDate,a=new Date(n);return a.getDate()===(new Date).getDate()?Object(O.jsx)(K.f.TimeTableCell,Object(F.a)(Object(F.a)({},e),{},{className:t.todayCell})):0===a.getDay()||6===a.getDay()?Object(O.jsx)(K.f.TimeTableCell,Object(F.a)(Object(F.a)({},e),{},{className:t.weekendCell})):Object(O.jsx)(K.f.TimeTableCell,Object(F.a)({},e))},ee=function(e){var t=_(),n=e.startDate;return e.today?Object(O.jsx)(K.f.DayScaleCell,Object(F.a)(Object(F.a)({},e),{},{className:t.today})):0===n.getDay()||6===n.getDay()?Object(O.jsx)(K.f.DayScaleCell,Object(F.a)(Object(F.a)({},e),{},{className:t.weekend})):Object(O.jsx)(K.f.DayScaleCell,Object(F.a)({},e))},te=function(e){var t=e.schedule,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1];function o(e){var t,n,a,c,r;return t=e.substring(0,4)-0,n=e.substring(5,7)-1,a=e.substring(8,10)-0,c=e.substring(11,13)-0,r=e.substring(14,16)-0,new Date(t,n,a,c,r)}return Object(a.useEffect)((function(){if(void 0!==t){var e=function(e){var t=[];return Object.entries(e).forEach((function(e){var n=Object(i.a)(e,2),a=(n[0],n[1]);return Object.entries(a).forEach((function(e){var n=Object(i.a)(e,2),a=(n[0],n[1]),c=new Object;c.startDate=o(a.startDate),c.endDate=o(a.endDate),t.push(c)}))})),t}(t);s(e)}}),[t]),Object(O.jsx)(Y.a,{children:Object(O.jsxs)(K.c,{data:r,firstDayOfWeek:1,locale:"pl-PL",children:[Object(O.jsx)($.q,{}),Object(O.jsx)(K.f,{startDayHour:8,endDayHour:18,timeTableCellComponent:Q,dayScaleCellComponent:ee}),Object(O.jsx)(K.e,{}),Object(O.jsx)(K.b,{}),Object(O.jsx)(K.d,{}),Object(O.jsx)(K.a,{})]})})},ne=function(e){var t=e.t,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)([]),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)(void 0),b=Object(i.a)(u,2),p=b[0],h=b[1],m=Object(a.useState)(void 0),f=Object(i.a)(m,2),x=f[0],w=f[1],S=Object(a.useState)(void 0),I=Object(i.a)(S,2),L=I[0],E=I[1],T=Object(a.useState)({}),A=Object(i.a)(T,2),V=A[0],q=A[1],P=Object(a.useRef)();Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){if(void 0!==p){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,j(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[p]);var R=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/specializations"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/doctors/specialization?id=").concat(p.id));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function G(e){e.preventDefault();var n=function(){var e={};return void 0===p&&(e.specialization=t("specializationError")),void 0===x&&(e.doctor=t("doctorError")),e}();Object.keys(n).length>0?q(n):fetch("".concat(D,"/doctors/").concat(x.id,"/schedule?specializationId=").concat(p.id)).then((function(e){return e.json()})).then((function(e){E(e)})).catch((function(e){return console.log(e)}))}return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("doctorSchedule")})}),Object(O.jsxs)(C.a,{className:"newAppointmentForm",children:[Object(O.jsx)(y.a,{className:"align-items-center mb-3",children:Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsxs)(C.a.Label,{children:[t("chooseSpecialization"),":"]}),Object(O.jsxs)(C.a.Select,{id:"selectedSpecialization",isInvalid:!!V.specialization,children:[Object(O.jsx)("option",{onClick:function(){h(void 0),j([]),E(void 0)},children:t("chooseSpecialization")}),r.map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(n){w(void 0),P.current.value=t("chooseDoctor"),E(void 0),h(e),V.specialization&&q(Object(F.a)(Object(F.a)({},V),{},Object(z.a)({},"specialization",null)))},children:e.name})}))]}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:V.specialization})]})})}),Object(O.jsx)(y.a,{className:"align-items-center mb-3",children:Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsxs)(C.a.Label,{children:[t("chooseDoctor"),":"]}),Object(O.jsxs)(C.a.Select,{id:"selectedDoctor",isInvalid:!!V.doctor,ref:P,children:[Object(O.jsx)("option",{onClick:function(){w(void 0),E(void 0)},children:t("chooseDoctor")}),d.map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(t){w(e),E(void 0),V.doctor&&q(Object(F.a)(Object(F.a)({},V),{},Object(z.a)({},"doctor",null)))},children:e.firstName+" "+e.lastName})}))]}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:V.doctor})]})})}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(k.a,{variant:"primary",onClick:function(e){return G(e)},children:t("showSchedule")})})]}),void 0!==L&&void 0!==x&&void 0!==p&&Object(O.jsx)(te,{schedule:L})]})},ae=function(e){var t=e.checkup,n=e.t,c=Object(a.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(t),d=Object(i.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){void 0!==t&&u(t)}),[t]),Object(O.jsxs)("div",{className:"appointmentAndCheckup",onClick:function(e){return function(e){e.preventDefault(),o(!s)}(e)},children:[Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)("p",{className:"appointmentAndCheckupHeader",children:j.diagnosticTestName}),Object(O.jsxs)("div",{className:"data",children:[Object(O.jsx)("p",{children:n("date")}),Object(O.jsx)("p",{children:new Date(j.appointmentDate).toISOString().slice(0,10)}),Object(O.jsx)("p",{children:new Date(j.appointmentDate).toISOString().slice(11,16)})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(V.d,{size:42}),n("medicalStaff")]}),s?Object(O.jsxs)("div",{children:[Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(V.c,{size:42}),Object(O.jsx)("p",{className:"header",children:n("checkUpDescription")})]}),Object(O.jsx)("div",{className:"subsections",children:Object(O.jsx)("p",{children:j.doctorsDescription})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(V.a,{size:42}),Object(O.jsx)("p",{className:"header",children:n("result")})]}),Object(O.jsx)("div",{children:Object(O.jsx)("p",{children:j.result?j.result:n("resultNotAvailable")})}),null!==j.result&&j.file&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(V.b,{size:42}),Object(O.jsx)("p",{className:"header",children:n("downloadResultPDF")}),Object(O.jsx)(k.a,{className:"download",href:"".concat(D,"/patients/1/diagnosticTests"),onClick:function(e){!function(e,t){e.preventDefault(),fetch("".concat(D,"/appointments/diagnosticTests?appointmentId=").concat(t.appointmentId,"&checkUpId=").concat(t.checkUpId)).then((function(e){return e.json()})).then((function(e){var t=window.document.createElement("a"),a=new Uint8Array(e.file);t.href=window.URL.createObjectURL(new Blob([a],{type:"application/pdf"}));var c=new Date(e.appointmentDate).toISOString().slice(0,10);t.download=n("checkUpFileName")+String(c),document.body.appendChild(t),t.click(),document.body.removeChild(t)}))}(e,t)},children:n("download")})]})]})]}):null]})},ce=function(e){var t=e.appointment,n=e.t,a=Object(h.k)(),c=function(e){e.preventDefault();var n=e.target.id;"visitButton"===n?a.push({pathname:"/today-visits/".concat(t.id,"/details/visits-history"),state:t}):"checkUpButton"===n?a.push({pathname:"/today-visits/".concat(t.id,"/details/check-ups"),state:{detail:t,patientId:t.patientId}}):"backButton"===n?a.push({pathname:"/today-visits/".concat(t.id,"/details"),state:t}):a.push({pathname:"/today-visits/".concat(t.id,"/details/files"),state:t})};return Object(O.jsxs)("div",{className:"topBuffer",style:{display:"flex",justifyContent:"space-between",width:"60%"},children:[(window.location.href.indexOf("visits-history")>-1||window.location.href.indexOf("check-ups")>-1||window.location.href.indexOf("details/files")>-1)&&Object(O.jsx)("button",{id:"backButton",className:"actionButton",onClick:c,children:n("backToDetailsButton")}),window.location.href.indexOf("visits-history")<0&&Object(O.jsx)("button",{id:"visitButton",className:"actionButton",onClick:c,children:n("visitsHistoryButton")}),window.location.href.indexOf("check-ups")<0&&Object(O.jsx)("button",{id:"checkUpButton",className:"actionButton",onClick:c,children:n("checkUpsButton")}),window.location.href.indexOf("details/files")<0&&Object(O.jsx)("button",{id:"filesButton",className:"actionButton",onClick:c,children:n("patientFilesButton")})]})},re=function(e){var t=e.t,n=Object(h.l)(),c=[3,5,10],r=Object(a.useState)([]),s=Object(i.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(1),j=Object(i.a)(d,2),u=j[0],b=j[1],p=Object(a.useState)(0),m=Object(i.a)(p,2),f=m[0],x=m[1],y=Object(a.useState)(c[0]),N=Object(i.a)(y,2),C=N[0],k=N[1],w=Object(a.useState)(void 0),S=Object(i.a)(w,2),I=S[0],L=S[1],z=Object(a.useState)(void 0),F=Object(i.a)(z,2),E=(F[0],F[1]),T=function(e,t){var n={};return e&&(n.page=e-1),t&&(n.size=t),n};Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:t=e.sent,l(t.diagnosticTests),x(t.totalPages);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,C]),Object(a.useEffect)((function(){void 0!==n.state&&(L(n.state.detail),E(n.state.patientId))}),[n]);var A=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=T(u,C)).page||null===t.size){e.next=7;break}return e.next=4,fetch("".concat(D,"/patients/1/diagnosticTests?page=").concat(t.page,"&size=").concat(t.size));case 4:n=e.sent,e.next=22;break;case 7:if(null===t.page||null!==t.size){e.next=13;break}return e.next=10,fetch("".concat(D,"/patients/1/diagnosticTests?page=").concat(t.page));case 10:n=e.sent,e.next=22;break;case 13:if(null!==t.page||null===t.size){e.next=19;break}return e.next=16,fetch("".concat(D,"/patients/1/diagnosticTests?size=").concat(t.size));case 16:n=e.sent,e.next=22;break;case 19:return e.next=21,fetch("".concat(D,"/patients/1/diagnosticTests"));case 21:n=e.sent;case 22:return e.next=24,n.json();case 24:return a=e.sent,e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("yourCheckUps")})}),Object(O.jsx)("br",{}),void 0!==I&&Object(O.jsx)(ce,{appointment:I,t:t}),Object(O.jsxs)("div",{className:"itemsNumber",children:[Object(O.jsxs)("p",{children:[t("elementsNumber"),"\xa0"]}),Object(O.jsx)("select",{onChange:function(e){k(e.target.value),b(1)},value:C,children:c.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})]}),o.map((function(e){return Object(O.jsx)(ae,{checkup:e,t:t},e.id)})),Object(O.jsx)(R.a,{className:"my-3",count:f,page:u,siblingCount:1,boundaryCount:1,shape:"rounded",onChange:function(e,t){b(t)}})]})},se=function(e){var t=e.prescription;return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:t.creationDate}),Object(O.jsx)("td",{children:t.medications?Object(O.jsx)("ul",{children:t.medications.map((function(e){return Object(O.jsx)("li",{children:e.name},e.id)}))}):""}),Object(O.jsx)("td",{children:t.medications?Object(O.jsx)("ul",{children:t.medications.map((function(e){return Object(O.jsx)("li",{children:e.numberOfPackages},e.id)}))}):""}),Object(O.jsx)("td",{children:"Wystawiona"}),Object(O.jsx)("td",{children:t.accessCode})]},t.id)};var ie=function(e){var t=e.prescriptionData,n=e.t;return Object(O.jsxs)("table",{className:"table table-hover fileTable",style:{backgroundColor:"white",width:"90%"},children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:n("issueDate")}),Object(O.jsx)("th",{children:n("medications")}),Object(O.jsx)("th",{children:n("numberOfPackages")}),Object(O.jsx)("th",{children:n("status")}),Object(O.jsx)("th",{children:n("eReceiptCode")})]})}),Object(O.jsx)("tbody",{children:t.map((function(e){return Object(O.jsx)(se,{prescription:e},e.id)}))})]})},oe=function(e){var t=e.t,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1];Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var o=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/patients/1/prescriptions"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("yourPrescriptions")})}),Object(O.jsx)("div",{className:"appointmentList",children:Object(O.jsx)(ie,{prescriptionData:r,t:t})})]})},le=S.b().shape({email:S.d().email("Invalid email address!").required("Field required!"),password:S.d().required("Field required!")}),de=function(){var e=Object(h.k)();return Object(O.jsx)("div",{className:"loginForm",style:{marginTop:"17%",marginBottom:"27%"},children:Object(O.jsx)(w.a,{validationSchema:le,onSubmit:function(e){console.log(e)},initialErrors:{},validateOnChange:!0,validateOnMount:!1,initialValues:{email:"",password:""},children:function(t){var n=t.handleSubmit,a=t.handleChange,c=t.values,r=t.touched,s=t.isValid,i=t.errors;return Object(O.jsxs)(C.a,{onSubmit:n,children:[Object(O.jsxs)(y.a,{className:"mb-3",children:[Object(O.jsxs)(C.a.Group,{as:N.a,xs:12,md:6,controlId:"email",children:[Object(O.jsx)(C.a.Label,{children:"E-mail:"}),Object(O.jsx)(C.a.Control,{type:"email",name:"email",placeholder:"Enter email",defaultValue:c.email,isInvalid:!!i.email,isValid:r.email&&!i.email,onChange:a}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.email})]}),Object(O.jsxs)(C.a.Group,{as:N.a,xs:12,md:6,controlId:"password",children:[Object(O.jsx)(C.a.Label,{children:"Password:"}),Object(O.jsx)(C.a.Control,{type:"password",name:"password",placeholder:"Enter password",defaultValue:c.password,isInvalid:!!i.password,isValid:r.password&&!i.password,onChange:a}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.password})]})]}),Object(O.jsxs)("div",{children:["New user?\xa0",Object(O.jsx)(k.a,{variant:"primary",size:"sm",onClick:function(){e.push({pathname:"/rejestracja"})},children:"Create an account"})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(k.a,{style:{fontSize:"20px"},variant:"primary",type:"submit",disabled:!s,children:"Login"})})]})}})})},je=new Date,ue=S.b().shape({firstName:S.d().min(2,"First name should have min. 2 characters!").max(50,"First name should have max. 50 characters!").required("Field required!"),lastName:S.d().min(2,"Last name should have min. 2 characters!").max(50,"Last name should have max. 50 characters!").required("Field required!"),pesel:S.d().min(11,"Pesel should have 11 digits!").max(11,"Pesel should have 11 digits!").test("validatePesel","Invalid pesel!",(function(e){if(!1===/^[0-9]{11}$/.test(e))return!1;var t=(""+e).split("");if(parseInt(e.substring(4,6))>31||parseInt(e.substring(2,4))>12)return!1;var n=(1*parseInt(t[0])+3*parseInt(t[1])+7*parseInt(t[2])+9*parseInt(t[3])+1*parseInt(t[4])+3*parseInt(t[5])+7*parseInt(t[6])+9*parseInt(t[7])+1*parseInt(t[8])+3*parseInt(t[9]))%10;return 0===n&&(n=10),n=10-n,parseInt(t[10])===n})).required("Field required!"),birthDate:S.a().max(je,"Date cannot be from the future!").required("Field required!"),phoneNumber:S.d().min(9,"Phone number should have min. 9 digits!").required("Field required!"),email:S.d().email("Invalid email address!").required("Field required!"),street:S.d().min(2).required("Field required!"),streetNumber:S.d().required("Field required!"),city:S.d().required("Field required!"),postCode:S.d().required("Field required!"),country:S.d().required("Field required!"),password:S.d().min(2,"Password should have min. 2 characters!").max(50,"Password should have max. 50 characters!").required("Field required!"),confirmPassword:S.d().oneOf([S.c("password"),""],"Password must match!").required("Field required!")}),be=function(){var e=Object(h.k)();return Object(O.jsx)("div",{className:"loginForm",style:{marginTop:"1%",marginBottom:"12%"},children:Object(O.jsx)(w.a,{validationSchema:ue,enableReinitialize:!0,onSubmit:function(e){var t={address:{city:e.city,country:e.country,postCode:e.postCode,street:e.street,streetNumber:e.streetNumber},birthDate:e.birthDate,email:e.email,firstName:e.firstName,lastName:e.lastName,patientsFiles:[],pesel:e.pesel,phoneNumber:e.phoneNumber};fetch("".concat(D,"/patients"),{method:"POST",headers:{"Access-Control-Allow-Origin":"".concat(D),"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},initialErrors:{},validateOnChange:!0,validateOnMount:!1,initialValues:{firstName:"",lastName:"",pesel:"",birthDate:"",phoneNumber:"",email:"",street:"",streetNumber:"",city:"",postCode:"",country:"",password:"",confirmPassword:""},children:function(t){var n=t.handleChange,a=t.handleSubmit,c=t.values,r=t.touched,s=t.isValid,i=t.errors;return Object(O.jsxs)(C.a,{onSubmit:a,children:[Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Imi\u0119:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"firstName",placeholder:"Imi\u0119",defaultValue:c.firstName,isInvalid:!!i.firstName,isValid:r.firstName&&!i.firstName,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.firstName})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Nazwisko:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"lastName",placeholder:"Nazwisko",defaultValue:c.lastName,isInvalid:!!i.lastName,isValid:r.lastName&&!i.lastName,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.lastName})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"PESEL:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"pesel",placeholder:"PESEL",defaultValue:c.pesel,isInvalid:!!i.pesel,isValid:r.pesel&&!i.pesel,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.pesel})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Data urodzenia:"}),Object(O.jsx)(C.a.Control,{type:"date",name:"birthDate",placeholder:"Data urodzenia",defaultValue:c.birthDate,isInvalid:!!i.birthDate,isValid:r.birthDate&&!i.birthDate,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.birthDate})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Telefon:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"phoneNumber",placeholder:"Telefon",defaultValue:c.phoneNumber,isInvalid:!!i.phoneNumber,isValid:r.phoneNumber&&!i.phoneNumber,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.phoneNumber})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Email:"}),Object(O.jsx)(C.a.Control,{type:"email",name:"email",placeholder:"Email",defaultValue:c.email,isInvalid:!!i.email,isValid:r.email&&!i.email,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.email})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Password:"}),Object(O.jsx)(C.a.Control,{type:"password",name:"password",placeholder:"Password",defaultValue:c.password,isInvalid:!!i.password,isValid:r.password&&!i.password,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.password})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Confirm Password:"}),Object(O.jsx)(C.a.Control,{type:"password",name:"confirmPassword",placeholder:"Confirm Password",defaultValue:c.confirmPassword,isInvalid:!!i.confirmPassword,isValid:r.confirmPassword&&!i.confirmPassword,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.confirmPassword})]})})]}),Object(O.jsx)("br",{}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Ulica:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"street",placeholder:"Ulica",defaultValue:c.street,isInvalid:!!i.street,isValid:r.street&&!i.street,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.street})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Numer:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"streetNumber",placeholder:"Numer",defaultValue:c.streetNumber,isInvalid:!!i.streetNumber,isValid:r.streetNumber&&!i.streetNumber,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.streetNumber})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Miasto:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"city",placeholder:"Miasto",defaultValue:c.city,isInvalid:!!i.city,isValid:r.city&&!i.city,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.city})]})}),Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Kod pocztowy:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"postCode",placeholder:"Kod pocztowy",defaultValue:c.postCode,isInvalid:!!i.postCode,isValid:r.postCode&&!i.postCode,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.postCode})]})})]}),Object(O.jsxs)(y.a,{className:"align-items-center mb-3",children:[Object(O.jsx)(N.a,{children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{children:"Pa\u0144stwo:"}),Object(O.jsx)(C.a.Control,{type:"text",name:"country",placeholder:"Pa\u0144stwo",defaultValue:c.country,isInvalid:!!i.country,isValid:r.country&&!i.country,onChange:n}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:i.country})]})}),Object(O.jsx)(N.a,{children:Object(O.jsx)(C.a.Group,{})})]}),Object(O.jsxs)("div",{children:["Already have an account?\xa0",Object(O.jsx)(k.a,{variant:"primary",size:"sm",onClick:function(){e.push({pathname:"/logowanie"})},children:"Login"})]}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(O.jsx)(k.a,{variant:"primary",size:"lg",type:"submit",disabled:!s,children:"Register"})})]})}})})},pe=n(13),he=n.n(pe),Oe=function(e){var t=e.app,n=e.t,c=Object(a.useState)(t),r=Object(i.a)(c,2),s=r[0],o=r[1];Object(a.useEffect)((function(){void 0!==t&&o(t)}),[t]);var l=Object(h.k)(),d=6e4*(new Date).getTimezoneOffset(),j=he()(Date.now()),u=he()(s.patient.birthDate);return Object(O.jsxs)("div",{className:"DONE"===s.state?"appointmentAndCheckup todayApp":"appointmentAndCheckup archivalApp",children:[Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)("p",{className:"appointmentAndCheckupHeader",children:s.medicalServiceName}),Object(O.jsxs)("div",{className:"data",children:["DONE"===s.state&&Object(O.jsx)("p",{children:Object(O.jsx)(q.a,{size:42,style:{color:"#18a74b"}})}),Object(O.jsxs)("p",{children:[n("hour"),"\xa0",s.date?new Date(new Date(s.date)-d).toISOString().slice(11,16):""]})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:[Object(O.jsx)(V.d,{size:42}),s.patient?s.patient.firstName+" "+s.patient.lastName:""]}),Object(O.jsxs)("p",{children:[n("age"),"\xa0",j.diff(u,"year")]}),"TELEPHONE"===s.type?n("phoneNumber")+" "+s.patient.phoneNumber:""]}),"DONE"!==s.state&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("hr",{}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(O.jsx)("button",{className:"actionButton",onClick:function(e){return function(e){e.preventDefault(),l.push({pathname:"/today-visits/".concat(s.id,"/details"),state:s})}(e)},children:n("addVisitDetails")})})]})]})},me=function(e){var t=e.t,n=[3,5,10],c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(1),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)(0),p=Object(i.a)(b,2),h=p[0],m=p[1],f=Object(a.useState)(n[0]),x=Object(i.a)(f,2),y=x[0],N=x[1],C=function(e,t){var n={};return e&&(n.page=e-1),t&&(n.size=t),n};Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,o(t.appointments),m(t.totalPages);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[j,y]);var k=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=C(j,y)).page||null===t.size){e.next=7;break}return e.next=4,fetch("".concat(D,"/doctors/7/todaysVisits?page=").concat(t.page,"&size=").concat(t.size));case 4:n=e.sent,e.next=22;break;case 7:if(null===t.page||null!==t.size){e.next=13;break}return e.next=10,fetch("".concat(D,"/doctors/7/todaysVisits?page=").concat(t.page));case 10:n=e.sent,e.next=22;break;case 13:if(null!==t.page||null===t.size){e.next=19;break}return e.next=16,fetch("".concat(D,"/doctors/7/todaysVisits?size=").concat(t.size));case 16:n=e.sent,e.next=22;break;case 19:return e.next=21,fetch("".concat(D,"/doctors/7/todaysVisits"));case 21:n=e.sent;case 22:return e.next=24,n.json();case 24:return a=e.sent,e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("todayAppointments")})}),Object(O.jsxs)("div",{className:"itemsNumber",children:[Object(O.jsxs)("p",{children:[t("elementsNumber"),"\xa0"]}),Object(O.jsx)("select",{onChange:function(e){N(e.target.value),u(1)},value:y,children:n.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})]}),Object(O.jsx)("div",{className:"appointmentList",children:s.map((function(e){return Object(O.jsx)(Oe,{app:e,t:t},e.id)}))}),Object(O.jsx)(R.a,{className:"my-3",count:h,page:j,siblingCount:1,boundaryCount:1,shape:"rounded",onChange:function(e,t){u(t)}})]})};var fe=function(e){var t=e.changeLanguage,n=e.t,a=Object(O.jsx)(p.a,{size:42});return Object(O.jsx)(l.a,{bg:"light",variant:"light",expand:"lg",collapseOnSelect:"true",sticky:"top",className:"navContainer",children:Object(O.jsxs)(d.a,{fluid:!0,children:[Object(O.jsx)(l.a.Brand,{className:"navbar-brand",children:Object(O.jsx)("img",{src:o,alt:"Logo"})}),Object(O.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(O.jsxs)(l.a.Collapse,{id:"navbarToggleExternalContent",className:"navCollapse",children:[Object(O.jsxs)(j.a,{className:"navNav",children:[Object(O.jsx)(b.LinkContainer,{to:"/today-visits",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink",children:n("todayAppointments")})}),Object(O.jsx)(b.LinkContainer,{to:"/check-ups",activeHref:"active",children:Object(O.jsx)(j.a.Link,{exact:!0,className:"navItemLink",children:n("checkups")})})]}),Object(O.jsxs)(u.a,{className:"navItemLanguages",title:a,id:"basic-nav-dropdown",children:[Object(O.jsxs)(u.a,{title:n("language"),id:"basic-nav-dropdown",children:[Object(O.jsx)(u.a.Item,{onClick:function(){t("en")},children:"English"}),Object(O.jsx)(u.a.Item,{onClick:function(){t("pl")},children:"Polski"})]}),Object(O.jsx)(u.a.Divider,{}),Object(O.jsx)(u.a.Item,{href:"#wyloguj",children:n("logout")})]})]})]})})},xe=n(244),ve=n.n(xe),ge=function(e){var t=e.appointment,n=e.t,c=function(e){return e.toISOString().slice(0,10)},r=Object(a.useRef)(),s=Object(h.k)(),o=Object(a.useState)({}),l=Object(i.a)(o,2),d=l[0],j=l[1],u=Object(a.useState)([]),b=Object(i.a)(u,2),p=b[0],m=b[1],f=Object(a.useState)([]),x=Object(i.a)(f,2),w=x[0],S=x[1],I=Object(a.useState)([]),L=Object(i.a)(I,2),E=L[0],T=L[1],A=Object(a.useState)(t),V=Object(i.a)(A,2),q=V[0],P=(V[1],Object(a.useState)((function(){return sessionStorage.getItem("description")||void 0}))),R=Object(i.a)(P,2),B=R[0],G=R[1],U=Object(a.useState)((function(){return sessionStorage.getItem("recommendations")||void 0})),H=Object(i.a)(U,2),M=H[0],J=H[1],W=Object(a.useState)(void 0),Y=Object(i.a)(W,2),K=Y[0],$=Y[1],X=Object(a.useState)(c(new Date((new Date).setDate((new Date).getDate()+31)))),Z=Object(i.a)(X,2),_=Z[0],Q=Z[1],ee=Object(a.useState)(void 0),te=Object(i.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)((function(){var e=sessionStorage.getItem("referrals");return JSON.parse(e)||[]})),re=Object(i.a)(ce,2),se=re[0],ie=re[1],oe=Object(a.useState)(void 0),le=Object(i.a)(oe,2),de=le[0],je=le[1],ue=Object(a.useState)(void 0),be=Object(i.a)(ue,2),pe=be[0],he=be[1],Oe=Object(a.useState)(1),me=Object(i.a)(Oe,2),fe=me[0],xe=me[1],ge=Object(a.useState)(void 0),ye=Object(i.a)(ge,2),Ne=ye[0],Ce=ye[1],ke=Object(a.useState)((function(){var e=sessionStorage.getItem("medications");return JSON.parse(e)||[]})),we=Object(i.a)(ke,2),Se=we[0],De=we[1],Ie=Object(a.useState)(void 0),Le=Object(i.a)(Ie,2),ze=Le[0],Fe=Le[1],Ee=Object(a.useState)(void 0),Te=Object(i.a)(Ee,2),Ae=Te[0],Ve=Te[1],qe=Object(a.useState)(void 0),Pe=Object(i.a)(qe,2),Re=Pe[0],Be=Pe[1],Ge=Object(a.useState)(void 0),Ue=Object(i.a)(Ge,2),He=Ue[0],Me=Ue[1],Je=Object(a.useState)(void 0),We=Object(i.a)(Je,2),Ye=We[0],Ke=We[1],$e=Object(a.useState)((function(){var e=sessionStorage.getItem("checkups");return JSON.parse(e)||[]})),Xe=Object(i.a)($e,2),Ze=Xe[0],_e=Xe[1];Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe();case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Qe=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/medicalServices"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:t=e.sent,S(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var et=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/checkups"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var tt=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/medications"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),nt=function(e){e.preventDefault();var t={};void 0!==ze&&(t.checkUpId=ze.id,t.name=ze.name,void 0!==Ae&&(t.description=Ae),void 0!==Re&&""!==Re&&(t.result=Re),void 0!==He&&(t.file=He),Ze.push(t),sessionStorage.setItem("checkups",JSON.stringify(Ze)),Fe(void 0),document.getElementById("checkupSelect").value=n("chooseCheckUp"),Ve(""),Be(""),Me(void 0),r.current.value="")},at=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}}))},ct=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,c,r,s,i,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,at(n);case 3:for(a=e.sent,c=a.split("base64,")[1],r=atob(c),s=new Array(r.length),i=0;i<r.length;i++)s[i]=r.charCodeAt(i);o=new Uint8Array(s),l=Array.from(o),Me(l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e={};return void 0!==B&&""!==B||(e.description=n("appointmentDescriptionRequired")),e};return Object(O.jsxs)(C.a,{className:"newAppointmentForm",children:[Object(O.jsxs)(C.a.Group,{className:"mb-3",controlId:"detailsForm.ControlTextArea1",children:[Object(O.jsx)(C.a.Label,{children:n("appointmentDescription")}),Object(O.jsx)(C.a.Control,{as:"textarea",rows:3,value:B,isInvalid:!!d.description,onChange:function(e){G(e.target.value),sessionStorage.setItem("description",e.target.value),d.description&&j(Object(F.a)(Object(F.a)({},d),{},Object(z.a)({},"description",null)))}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:d.description})]}),Object(O.jsxs)(C.a.Group,{className:"mb-3",controlId:"detailForm.ControlTextArea2",children:[Object(O.jsxs)(C.a.Label,{children:[n("recommendations"),":"]}),Object(O.jsx)(C.a.Control,{as:"textarea",rows:3,value:M,onChange:function(e){J(e.target.value),sessionStorage.setItem("recommendations",e.target.value)}})]}),Object(O.jsxs)(y.a,{className:"mb-3",children:[Object(O.jsxs)(C.a.Label,{children:[n("referrals"),":"]}),Object(O.jsxs)(N.a,{md:!0,children:[Object(O.jsxs)(C.a.Group,{children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("chooseService"),":"]}),Object(O.jsxs)(C.a.Select,{"aria-label":"Floating label select example",id:"serviceSelect",children:[Object(O.jsx)("option",{onClick:function(){return $(void 0)},children:n("chooseService")}),p.map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(){$(e)},children:e.name})}))]})]}),Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{column:"sm",children:n("chooseExpirationDate")}),Object(O.jsx)(C.a.Control,{type:"date",value:_,onChange:function(e){return Q(e.target.value)}})]})]}),Object(O.jsxs)(N.a,{md:!0,children:[Object(O.jsx)(C.a.Label,{column:"sm",children:n("referralsList")}),Object(O.jsx)("div",{style:{overflow:"scroll",height:"100px"},children:se.map((function(e){return Object(O.jsx)("div",{className:"appointmentFormSubsectionItem",onClick:function(){ae(e)},children:e.medicalServiceName+" do: "+e.expiryDate},e.id)}))})]})]}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)("button",{className:"addButton",onClick:function(e){return function(e){e.preventDefault();var t={};void 0!==K&&(t.medicalServiceId=K.id,t.medicalServiceName=K.name,t.expiryDate=_,se.push(t),sessionStorage.setItem("referrals",JSON.stringify(se)),$(void 0),document.getElementById("serviceSelect").value=n("chooseService"),Q(c(new Date((new Date).setDate((new Date).getDate()+31)))))}(e)},children:n("addReferral")}),Object(O.jsx)("button",{className:"deleteButton",onClick:function(e){return function(e){if(e.preventDefault(),void 0!==ne){var t=se.indexOf(ne);t>-1&&(se.splice(t,1),ie(se),sessionStorage.setItem("referrals",JSON.stringify(se)),ae(void 0))}}(e)},children:n("deleteReferral")})]}),Object(O.jsx)("hr",{}),Object(O.jsxs)(y.a,{className:"mb-3 topBuffer",children:[Object(O.jsxs)(N.a,{md:!0,children:[Object(O.jsx)(C.a.Label,{children:n("medications")}),Object(O.jsxs)(C.a.Group,{children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("chooseMedication"),":"]}),Object(O.jsxs)(C.a.Select,{"aria-label":"Floating label select example",id:"medicationSelect",children:[Object(O.jsx)("option",{onClick:function(){return je(void 0)},children:n("chooseMedication")}),E.map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(){return je(e)},children:e.name},e.id)}))]})]}),Object(O.jsxs)(C.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("dosage"),":"]}),Object(O.jsx)(C.a.Control,{type:"text",placeholder:n("dosage"),value:pe,onChange:function(e){return he(e.target.value)}})]}),Object(O.jsxs)(C.a.Group,{children:[Object(O.jsx)(C.a.Label,{column:"sm",children:n("choosePackagesNumber")}),Object(O.jsx)(ve.a,{value:fe,onChange:function(e){return xe(parseInt(e.target.value))}})]})]}),Object(O.jsxs)(N.a,{md:!0,children:[Object(O.jsx)(C.a.Label,{column:"sm",children:n("medicationsList")}),Object(O.jsx)("div",{style:{overflow:"scroll",height:"216px"},children:Se.map((function(e){return Object(O.jsx)("div",{className:"appointmentFormSubsectionItem",onClick:function(){Ce(e)},children:e.name+", "+e.numberOfPackages+" op."},e.id)}))})]})]}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)("button",{className:"addButton",onClick:function(e){return function(e){e.preventDefault();var t={};void 0!==de&&void 0!==pe&&(0===Se.filter((function(e){return e.medicationId===de.id})).length?(t.numberOfPackages=fe,t.dosing=pe,t.medicationId=de.id,t.name=de.name,Se.push(t),sessionStorage.setItem("medications",JSON.stringify(Se)),je(void 0),document.getElementById("medicationSelect").value=n("chooseMedication"),he(""),xe(1)):window.alert(n("referralAddMedicationError")))}(e)},children:n("addMedication")}),Object(O.jsx)("button",{className:"deleteButton",onClick:function(e){return function(e){if(e.preventDefault(),void 0!==Ne){var t=Se.indexOf(Ne);t>-1&&(Se.splice(t,1),De(Se),sessionStorage.setItem("medications",JSON.stringify(Se)),Ce(void 0))}}(e)},children:n("deleteMedication")})]}),Object(O.jsx)("hr",{}),Object(O.jsx)(y.a,{}),Object(O.jsxs)("div",{className:"topBuffer",children:[Object(O.jsxs)(C.a.Label,{children:[n("checkups"),":"]}),Object(O.jsx)("h6",{style:{color:"#e60000"},children:n("checkUpsInfo")}),Object(O.jsxs)(y.a,{className:"mb-3",children:[Object(O.jsx)(N.a,{md:!0,children:Object(O.jsxs)(C.a.Group,{children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("chooseCheckUp"),":"]}),Object(O.jsxs)(C.a.Select,{"aria-label":"Floating label select example",id:"checkupSelect",children:[Object(O.jsx)("option",{onClick:function(){return Fe(void 0)},children:n("chooseCheckUp")}),w.map((function(e){return Object(O.jsx)("option",{value:e,onClick:function(){return Fe(e)},children:e.name},e.id)}))]})]})}),Object(O.jsx)(N.a,{md:!0})]}),Object(O.jsxs)(y.a,{className:"mb-3",children:[Object(O.jsx)(N.a,{md:!0,children:Object(O.jsxs)(C.a.Group,{className:"mb-3",controlId:"detailForm.ControlTextArea2",children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("description"),":"]}),Object(O.jsx)(C.a.Control,{as:"textarea",rows:3,value:Ae,onChange:function(e){return Ve(e.target.value)}})]})}),Object(O.jsx)(N.a,{md:!0,children:Object(O.jsxs)(C.a.Group,{className:"mb-3",controlId:"detailForm.ControlTextArea2",children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("result"),":"]}),Object(O.jsx)(C.a.Control,{as:"textarea",rows:3,value:Re,onChange:function(e){return Be(e.target.value)}})]})})]}),Object(O.jsxs)(y.a,{className:"mb-3",children:[Object(O.jsx)(N.a,{md:!0,children:Object(O.jsxs)(C.a.Group,{controlId:"formFile",className:"mb-3",children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("addFile"),":"]}),Object(O.jsx)(C.a.Control,{as:"input",type:"file",ref:r,size:"sm",onChange:function(e){return ct(e)}})]})}),Object(O.jsxs)(N.a,{md:!0,children:[Object(O.jsxs)(C.a.Label,{column:"sm",children:[n("checkUpsList"),":"]}),Object(O.jsx)("div",{style:{overflow:"scroll",height:"150px"},children:Ze.map((function(e){return Object(O.jsx)("div",{className:"appointmentFormSubsectionItem",onClick:function(){Ke(e)},children:e.name},e.id)}))})]})]}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)("button",{className:"addButton",onClick:function(e){return nt(e)},children:n("addCheckUp")}),Object(O.jsx)("button",{className:"deleteButton",onClick:function(e){return function(e){if(e.preventDefault(),void 0!==Ye){var t=Ze.indexOf(Ye);t>-1&&(Ze.splice(t,1),_e(Ze),sessionStorage.setItem("checkups",JSON.stringify(Ze)),Ke(void 0))}}(e)},children:n("deleteCheckUp")})]}),Object(O.jsx)("hr",{})]}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[Object(O.jsx)(k.a,{style:{marginLeft:"1%",marginRight:"1%"},variant:"danger",onClick:function(){sessionStorage.clear(),s.push({pathname:"/today-visits"})},children:n("cancel")}),Object(O.jsx)(k.a,{style:{marginLeft:"1%",marginRight:"1%"},variant:"primary",onClick:function(e){return function(e){e.preventDefault();var t=rt();if(Object.keys(t).length>0)j(t);else{var a=[];if(Se.length>0){var r={},i=c(new Date((new Date).setDate((new Date).getDate()+31))),o=(Math.floor(1e4*Math.random())+1e4).toString().substring(1),l=Se;r.expiryDate=i,r.accessCode=o,r.medications=l,a=[r]}var d={};d.description=B,d.recommendations=M,d.referrals=se,d.prescriptions=a,d.checkUps=Ze,fetch("".concat(D,"/appointments/").concat(q.id,"/done"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then((function(e){return e.json()})).then(window.alert(n("appointmentDetailsMessage"))).then(s.push({pathname:"/today-visits"})).catch((function(e){return console.log(e)})),sessionStorage.clear()}}(e)},children:n("saveChanges")})]})]})},ye=function(e){var t=e.t,n=Object(h.k)().location.state;return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("appointmentDetails")})}),Object(O.jsx)("br",{}),Object(O.jsx)(ce,{appointment:n,t:t}),Object(O.jsx)(ge,{appointment:n,t:t})]})},Ne=function(e){var t=e.appointment,n=e.t,c=Object(a.useState)(!1),r=Object(i.a)(c,2),s=r[0],o=r[1];var l=6e4*(new Date).getTimezoneOffset();return Object(O.jsxs)("div",{className:"appointmentAndCheckup archivalApp",onClick:function(e){return function(e){e.preventDefault(),o(!s)}(e)},children:[Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)("p",{className:"appointmentAndCheckupHeader",children:t.serviceName}),Object(O.jsxs)("div",{className:"data",children:[Object(O.jsx)("p",{children:n("date")}),Object(O.jsx)("p",{children:t.date?new Date(new Date(t.date)-l).toISOString().slice(0,10):""}),Object(O.jsx)("p",{children:t.date?new Date(new Date(t.date)-l).toISOString().slice(11,16):""})]})]}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"space-between"},children:Object(O.jsxs)("div",{children:[Object(O.jsx)(V.d,{size:42}),n("doctorTitle"),"\xa0",t.doctor?t.doctor.firstName+" "+t.doctor.lastName:""]})}),t.recommendations?Object(O.jsx)(O.Fragment,{children:s?Object(O.jsxs)("div",{children:[Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(V.a,{size:42}),Object(O.jsx)("p",{className:"header",children:n("recommendations")})]}),Object(O.jsx)("ol",{children:Object(O.jsx)("li",{children:t.recommendations})}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(V.b,{size:42}),Object(O.jsx)("p",{className:"header",children:n("realizedCheckUps")})]}),Object(O.jsx)("p",{children:t.serviceName}),Object(O.jsx)("hr",{}),Object(O.jsxs)("div",{className:"subsections",children:[Object(O.jsx)(q.b,{size:42}),Object(O.jsx)("p",{className:"header",children:n("ePrescriptions")})]}),Object(O.jsx)("p",{children:t.prescriptions?n("ePrescriptionsIssued"):n("noPrescriptions")})]}):null}):null]})},Ce=function(e){var t=e.t,n=Object(h.k)().location.state,c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],o=r[1];Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,o(t.appointments);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var l=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/patients/").concat(n.patient.id,"/doneAppointments"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("appointmentsHistory")})}),Object(O.jsx)(ce,{appointment:n,t:t}),s.length>0?Object(O.jsx)("div",{className:"appointmentList",children:s.map((function(e){return Object(O.jsx)(Ne,{appointment:e,t:t},e.id)}))}):Object(O.jsx)("span",{style:{marginTop:"1%"},children:t("noAppointmentsToShow")})]})},ke=n(437),we=function(e){var t=e.t,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(h.k)().location.state;Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var l=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(D,"/patients/").concat(o.patient.id,"/files"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("patientFiles")})}),Object(O.jsx)(ce,{appointment:o,t:t}),r.length>0?Object(O.jsxs)(ke.a,{className:"table table-hover table-bordered fileTable topBuffer",style:{width:"80%"},children:[Object(O.jsx)("thead",{style:{backgroundColor:"#e6eeff"},children:Object(O.jsxs)("tr",{children:[Object(O.jsxs)("th",{children:[t("name"),":"]}),Object(O.jsxs)("th",{children:[t("description"),":"]}),Object(O.jsx)("th",{children:t("createDate")}),Object(O.jsx)("th",{children:t("action")})]})}),Object(O.jsx)("tbody",{children:r.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.name}),Object(O.jsx)("td",{children:e.description}),Object(O.jsx)("td",{children:e.uploadDate}),Object(O.jsx)("td",{children:Object(O.jsx)(k.a,{variant:"primary",onClick:function(t){return function(e,t){e.preventDefault(),fetch("".concat(D,"/patients/").concat(o.patient.id,"/files/").concat(t.id)).then((function(e){return e.json()})).then((function(e){var n=window.document.createElement("a"),a=new Uint8Array(e.file);n.href=window.URL.createObjectURL(new Blob([a],{type:t.type})),n.download=e.name,document.body.appendChild(n),n.click(),document.body.removeChild(n)}))}(t,e)},children:t("Download")})})]},e.id)}))})]}):Object(O.jsx)("span",{className:"topBuffer",children:t("noFiles")})]})},Se=function(e){var t=e.checkup,n=e.setSelectedCheckup,c=e.t,r=Object(a.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],d=Object(a.useState)(!0),j=Object(i.a)(d,2),u=(j[0],j[1]),b=Object(a.useState)(t),p=Object(i.a)(b,2),h=p[0],m=p[1],f=Object(a.useState)(void 0),x=Object(i.a)(f,2),y=x[0],N=x[1],k=Object(a.useState)(void 0),w=Object(i.a)(k,2),S=w[0],I=w[1],L=Object(a.useState)(void 0),E=Object(i.a)(L,2),T=E[0],A=E[1],q=Object(a.useState)({}),P=Object(i.a)(q,2),R=P[0],B=P[1],G=Object(a.useRef)(),U=he()(Date.now()),H=he()(h.patient.birthDate);function M(e){e.preventDefault(),l(!o)}Object(a.useEffect)((function(){void 0!==t&&m(t)}),[t]);var J=function(e){return new Promise((function(t,n){var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t(a.result)},a.onerror=function(e){n(e)}}))},W=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,a,c,r,s,i,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files[0],e.next=3,J(n);case 3:for(a=e.sent,c=a.split("base64,")[1],r=atob(c),s=new Array(r.length),i=0;i<r.length;i++)s[i]=r.charCodeAt(i);o=new Uint8Array(s),l=Array.from(o),I(l);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){e.preventDefault();var t=function(){var e={};return void 0!==y&&""!==y||(e.result="Result must be added!"),void 0===S&&(e.file="File must be added!"),e}();if(Object.keys(t).length>0)B(t);else{var a={};a.result=y,a.doctorsDescription=T,a.file=S,fetch("".concat(D,"/appointments/").concat(h.appointmentId,"/testResult/").concat(h.checkUpId),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(){return new Promise((function(e){return setTimeout(e,2e3)}))})).then(window.alert(c("checkUpRealized"))).catch((function(e){return console.log(e)})),n(h),u(!1)}};return Object(O.jsxs)("div",{className:"appointmentAndCheckup",children:[Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)("p",{className:"appointmentAndCheckupHeader",children:h.diagnosticTestName}),Object(O.jsxs)("div",{className:"data",children:[Object(O.jsx)("p",{children:c("date")}),Object(O.jsx)("p",{children:new Date(h.appointmentDate).toISOString().slice(0,10)}),Object(O.jsx)("p",{children:new Date(h.appointmentDate).toISOString().slice(11,16)})]})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:[Object(O.jsx)(V.d,{size:42}),h.patient?h.patient.firstName+" "+h.patient.lastName:""]}),Object(O.jsxs)("p",{children:[c("age"),"\xa0",U.diff(H,"year")]})]}),!o&&Object(O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(O.jsx)("button",{className:"actionButton",onClick:M,children:c("realizeCheckUp")})}),o?Object(O.jsxs)(C.a,{children:[Object(O.jsxs)(C.a.Group,{className:"mb-3",controlId:"doctorDescription",children:[Object(O.jsxs)(C.a.Label,{children:[c("description"),":"]}),Object(O.jsx)(C.a.Control,{as:"textarea",rows:3,value:T,onChange:function(e){A(e.target.value)}})]}),Object(O.jsxs)(C.a.Group,{className:"mb-3",controlId:"result",children:[Object(O.jsxs)(C.a.Label,{children:[c("result"),":"]}),Object(O.jsx)(C.a.Control,{as:"textarea",rows:3,isInvalid:!!R.result,value:y,onChange:function(e){N(e.target.value),R.result&&B(Object(F.a)(Object(F.a)({},R),{},Object(z.a)({},"result",null)))}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:R.result})]}),Object(O.jsxs)(C.a.Group,{controlId:"file",className:"mb-2",children:[Object(O.jsx)(C.a.Label,{children:c("file")}),Object(O.jsx)(C.a.Control,{as:"input",ref:G,type:"file",isInvalid:!!R.file,onChange:function(e){W(e),R.file&&B(Object(F.a)(Object(F.a)({},R),{},Object(z.a)({},"file",null)))}}),Object(O.jsx)(C.a.Control.Feedback,{type:"invalid",children:R.file})]}),o&&Object(O.jsxs)("div",{className:"topBuffer",style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)("button",{className:"deleteButton",onClick:function(e){return M(e)},children:c("cancel").toUpperCase()}),Object(O.jsx)("button",{className:"addButton",onClick:function(e){return Y(e)},children:c("accept").toUpperCase()})]})]}):null]})},De=function(e){var t=e.t,n=[3,5,10],c=Object(a.useState)([]),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(void 0),d=Object(i.a)(l,2),j=d[0],u=d[1],b=Object(a.useState)(1),p=Object(i.a)(b,2),h=p[0],m=p[1],f=Object(a.useState)(0),x=Object(i.a)(f,2),y=x[0],N=x[1],C=Object(a.useState)(n[0]),k=Object(i.a)(C,2),w=k[0],S=k[1],I=function(e,t){var n={};return e&&(n.page=e-1),t&&(n.size=t),n};Object(a.useEffect)((function(){var e=function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:t=e.sent,o(t.checkUps),N(t.totalPages);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h,w,j]),Object(a.useEffect)((function(){void 0!==j&&o(s.filter(z))}),[j]);var L=function(){var e=Object(g.a)(v.a.mark((function e(){var t,n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=I(h,w)).page||null===t.size){e.next=7;break}return e.next=4,fetch("".concat(D,"/doctors/7/testsWithoutResults?page=").concat(t.page,"&size=").concat(t.size));case 4:n=e.sent,e.next=22;break;case 7:if(null===t.page||null!==t.size){e.next=13;break}return e.next=10,fetch("".concat(D,"/doctors/7/testsWithoutResults?page=").concat(t.page));case 10:n=e.sent,e.next=22;break;case 13:if(null!==t.page||null===t.size){e.next=19;break}return e.next=16,fetch("".concat(D,"/doctors/7/testsWithoutResults?size=").concat(t.size));case 16:n=e.sent,e.next=22;break;case 19:return e.next=21,fetch("".concat(D,"/doctors/7/testsWithoutResults"));case 21:n=e.sent;case 22:return e.next=24,n.json();case 24:return a=e.sent,e.abrupt("return",a);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function z(e){if(e.appointmentId!==j.appointmentId&&e.checkUpId!==j.checkUpId)return e}return Object(O.jsxs)("div",{className:"itemsList",children:[Object(O.jsx)("div",{className:"listHeader",children:Object(O.jsx)("h2",{children:t("checkUpsToRealize")})}),Object(O.jsxs)("div",{className:"itemsNumber",children:[Object(O.jsxs)("p",{children:[t("elementsNumber"),"\xa0"]}),Object(O.jsx)("select",{onChange:function(e){S(e.target.value),m(1)},value:w,children:n.map((function(e){return Object(O.jsx)("option",{value:e,children:e},e)}))})]}),s.map((function(e){return Object(O.jsx)(Se,{checkup:e,setSelectedCheckup:u,t:t})})),Object(O.jsx)(R.a,{className:"my-3",count:y,page:h,siblingCount:1,boundaryCount:1,shape:"rounded",onChange:function(e,t){m(t)}})]})},Ie=n(65),Le=n.p+"static/media/stetoscope.a15ede8e.jpg",ze=n(444);var Fe=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=(t[1],Object(a.useState)(!0)),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Object(ze.a)(),d=l.t,j=l.i18n,u=function(e){j.changeLanguage(e)},b=function(){o(!s)};return Object(O.jsxs)(Ie.HashRouter,{children:[s&&Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){return b()},children:"Switch to doctor's view"}),n&&Object(O.jsx)(m,{changeLanguage:u,t:d}),Object(O.jsx)("div",{className:"wholePage",children:Object(O.jsx)("div",{className:"content",style:!1===n?{width:"100%",backgroundImage:"url(".concat(Le,")")}:{width:"80%",backgroundImage:null},children:Object(O.jsxs)(h.g,{children:[Object(O.jsx)(h.d,{exact:!0,path:"/moje-konto",component:function(){return Object(O.jsx)(L,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/moje-pliki",component:function(){return Object(O.jsx)(T,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/wizyty",component:function(){return Object(O.jsx)(B,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/nowa-wizyta",component:function(){return Object(O.jsx)(M,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/skierowania",component:function(){return Object(O.jsx)(W,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/grafik",component:function(){return Object(O.jsx)(ne,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/badania",component:function(){return Object(O.jsx)(re,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/recepty",component:function(){return Object(O.jsx)(oe,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/logowanie",component:de}),Object(O.jsx)(h.d,{exact:!0,path:"/rejestracja",component:be})]})})}),Object(O.jsx)(f,{t:d})]}),!s&&Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){return b()},children:"Switch to patient's view"}),Object(O.jsx)(fe,{changeLanguage:u,t:d}),Object(O.jsx)("div",{className:"wholePage",children:Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)(h.g,{children:[Object(O.jsx)(h.d,{exact:!0,path:"/today-visits",component:function(){return Object(O.jsx)(me,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/today-visits/:id/details",component:function(){return Object(O.jsx)(ye,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/today-visits/:id/details/visits-history",component:function(){return Object(O.jsx)(Ce,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/today-visits/:id/details/check-ups",component:function(){return Object(O.jsx)(re,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/today-visits/:id/details/files",component:function(){return Object(O.jsx)(we,{t:d})}}),Object(O.jsx)(h.d,{exact:!0,path:"/check-ups",component:function(){return Object(O.jsx)(De,{t:d})}})]})})}),Object(O.jsx)(f,{t:d})]})]})},Ee=(n(380),n(381),n(190)),Te=n(248),Ae=n(250),Ve=n(127);Ee.a.use(Te.a).use(Ae.a).use(Ve.e).init({fallbackLng:"en",debug:!0,detection:{order:["queryString","cookie"],cache:["cookie"]},interpolation:{escapeValue:!1}});Ee.a;s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(a.Suspense,{fallback:Object(O.jsx)("div",{children:"Loading..."}),children:Object(O.jsx)(Fe,{})})}),document.getElementById("root"))}},[[382,1,2]]]);
//# sourceMappingURL=main.477febea.chunk.js.map